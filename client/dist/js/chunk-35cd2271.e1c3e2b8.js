(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35cd2271"],{"18ca":function(e,t,n){"use strict";var r=n("2e07"),a=n.n(r);a.a},"2e07":function(e,t,n){},"82bb":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative"},[n("div",{staticClass:"dragger-wrapper w-fit-full sm-round",class:{"is-dragover":e.dragover,"no-opacity":e.isUploadingKMZ},on:{drop:function(t){return t.preventDefault(),e.onDrop(t)},dragover:function(t){return t.preventDefault(),e.onDragover(t)},dragleave:function(t){t.preventDefault(),e.dragover=!1},click:function(t){return t.stopPropagation(),e.clickFileInput(t)}}},[n("div",{staticClass:"inner-wrapper p2 flex align-items-center column wrap justify-content-center"},[n("fa",{staticClass:"icon upload fs-xlarge",attrs:{icon:["fas","cloud-upload-alt"]}}),n("span",{staticClass:"accent-text fs-regular mt2",on:{click:function(t){return t.stopPropagation(),e.clickFileInput(t)}}},[e._v(" "+e._s(e.helpText)+" ")]),n("input",{ref:"file",staticClass:"hidden",attrs:{type:"file"},on:{change:e.selectFile}})],1)]),e.isUploadingKMZ?n("div",{staticClass:"loading-bar-wrapper absolute h-fit-full flex align-items-center row wrap justify-content-center w-fit-full"},[n("loading-bar"),n("p",{staticClass:"m0"},[e._v(" "+e._s(e.loadingText)+" ")])],1):e._e(),e.showAlert?n("el-alert",{staticClass:"mt4",attrs:{type:"success",title:"The conversion has been successful! You should see the result on the map now",closable:!1,"show-icon":""}}):e._e()],1)},a=[],i=(n("a630"),n("a434"),n("d3b7"),n("3ca3"),n("96cf"),n("1da1")),l=n("3d24"),s=n("b3da"),o={components:{LoadingBar:function(){return n.e("chunk-515e9656").then(n.bind(null,"4b97"))}},data:function(){return{file:[],loadingText:"",dragover:!1,showAlert:!1,isUploadingKMZ:!1}},props:{creationType:{type:String,default:function(){return"cables"}},isRawFile:{type:Boolean,default:function(){return!1}},helpText:{type:String,default:function(){return"Upload kmz/kml"}}},methods:{onDrop:function(e){var t=e.dataTransfer.files;t&&(this.file=Array.from(t)),this.dragover=!1,this.$refs.file.value="",this.handleFileReadProcess()},onDragover:function(){this.dragover=!0},clickFileInput:function(){return this.$refs.file.click()},selectFile:function(){var e=this.$refs.file.files;e&&(this.file=Array.from(e)),this.$refs.file.value="",this.handleFileReadProcess()},handleFileReadProcess:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isRawFile||!e.file.length){t.next=2;break}return t.abrupt("return",e.$emit("raw-file",e.file[0]));case 2:return e.isUploadingKMZ=!0,e.showAlert=!1,e.loadingText="We are loading your file. This will take a moment",e.file.length>1&&(e.file=e.file.splice(1)),t.next=8,e.$auth.getUserID();case 8:return n=t.sent,t.next=11,Object(l["a"])({file:e.file,user_id:n});case 11:if(t.t0=t.sent,t.t0){t.next=14;break}t.t0={data:{fCollection:Object(s["a"])()}};case 14:r=t.t0,a=r.data.r,e.loadingText="We are converting your file from kmz to geojson format",a&&a.features&&a.features.length>0?(e.$emit("handle-file-converted",a),e.showAlert=!0,e.showAlert=!1):(e.loadingText="The conversion has failed! ... Please try again",e.$emit("dragger-geojson-upload-failed")),e.isUploadingKMZ=!1,e.isConvertingKMZ=!1,setTimeout((function(){e.loadingText="",e.showAlert=!1}),2e3);case 21:case"end":return t.stop()}}),t)})))()}}},c=o,f=(n("18ca"),n("2877")),u=Object(f["a"])(c,r,a,!1,null,"cc286c4e",null);t["default"]=u.exports},a434:function(e,t,n){"use strict";var r=n("23e7"),a=n("23cb"),i=n("a691"),l=n("50c4"),s=n("7b0b"),o=n("65f0"),c=n("8418"),f=n("1dde"),u=n("ae40"),d=f("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,g=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!p},{splice:function(e,t){var n,r,f,u,d,p,w=s(this),b=l(w.length),x=a(e,b),k=arguments.length;if(0===k?n=r=0:1===k?(n=0,r=b-x):(n=k-2,r=g(h(i(t),0),b-x)),b+n-r>v)throw TypeError(m);for(f=o(w,r),u=0;u<r;u++)d=x+u,d in w&&c(f,u,w[d]);if(f.length=r,n<r){for(u=x;u<b-r;u++)d=u+r,p=u+n,d in w?w[p]=w[d]:delete w[p];for(u=b;u>b-r+n;u--)delete w[u-1]}else if(n>r)for(u=b-r;u>x;u--)d=u+r-1,p=u+n-1,d in w?w[p]=w[d]:delete w[p];for(u=0;u<n;u++)w[u+x]=arguments[u+2];return w.length=b-r+n,f}})}}]);
//# sourceMappingURL=chunk-35cd2271.e1c3e2b8.js.map
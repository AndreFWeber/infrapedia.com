(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a5550"],{"09f7":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{visible:e.isVisible,width:"20%",top:"20vh","append-to-body":"","show-close":!0,"close-on-press-escape":!0,"close-on-click-modal":!1,"before-close":function(){return e.handleClose(!0)}},on:{"update:visible":function(t){e.isVisible=t}}},[r("h2",{staticClass:"title-user-variant",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.title)+" ")]),r("el-form",["map"==e.type?r("el-form-item",{attrs:{label:"Category"}},[r("el-select",{staticClass:"w-fit-full",class:{dark:e.dark},attrs:{placeholder:"",clearable:""},on:{change:e.handleCategorySelected},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.categoriesList,(function(e,t){return r("el-option",{key:t,staticClass:"capitalize",attrs:{value:e._id,label:e.name}})})),1)],1):e._e(),r("el-form-item",{attrs:{label:"Name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e.feature.geometry&&"Point"!=e.feature.geometry.type?[r("el-form-item",{attrs:{label:"Status"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"Active","inactive-text":"Inactive","active-value":"Active","inactive-value":"Inactive"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),"Polygon"==e.feature.geometry.type?r("el-form-item",{attrs:{label:"Height (Meters)"}},[r("el-input-number",{staticClass:"w-fit-full",attrs:{"controls-position":"right"},model:{value:e.form.height,callback:function(t){e.$set(e.form,"height",t)},expression:"form.height"}})],1):e._e()]:e._e()],2),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(){return e.handleClose(!1)}}},[e._v(" Save ")])],1)],1)},o=[],s=(r("4de4"),r("b0c0"),r("5530")),a=r("ce96"),l=r("543d"),c={name:"PropertiesDialog",data:function(){return{form:{},categorySelected:null,predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff"],categoriesList:[]}},props:{isVisible:{type:Boolean,required:!0},mode:{type:String,required:!0},type:{type:String,required:!0},feature:{type:Object,required:!0},creationForm:{type:Object,required:!0}},watch:{isVisible:function(e){if(e){var t=this.feature.geometry.type;if("map"==this.type?this.loadCategories():this.categoriesList=[],"create"!=this.mode)this.form=Object(s["a"])({},this.feature.properties),"map"==this.type&&this.form.category&&"string"!=typeof this.form.category&&(this.form.category=this.feature.properties.category._id);else switch(t.toLowerCase()){case"point":this.form={name:""};break;case"polygon":this.form={name:"",height:0,status:!0};break;default:this.form={name:"",status:!0};break}}else this.form={},this.categoriesList=[],this.categorySelected=null}},computed:{title:function(){var e="";if("create"==this.mode)switch(this.type.toLowerCase()){case"cls":e="Create CLS properties";break;case"ixps":e="Create IXP properties";break;default:e="Edit segment properties";break}else if("edit"==this.mode)switch(this.type.toLowerCase()){case"cls":e="Edit CLS properties";break;case"ixps":e="Edit IXP properties";break;default:e="Edit segment properties";break}return e},dark:function(){return this.$store.state.isDark}},methods:{handleCategorySelected:function(e){if("map"==this.type){var t=this.categoriesList.filter((function(t){return t._id==e}))[0];if(t)this.categorySelected={category:t._id,color:t.color,"stroke-width":t["stroke-width"],"stroke-opacity":t["stroke-opacity"]},"normal"!=t["stroke-style"]&&"LineString"==this.feature.geometry.type&&(this.categorySelected["line-dasharray"]=[.1,1.8]);else{this.categorySelected=null;for(var r=["color","category","stroke-width","stroke-opacity","line-dasharray"],i=0,o=r;i<o.length;i++){var s=o[i];this.form[s]&&delete this.form[s]}}}},loadCategories:function(){var e=!!(this.feature&&this.feature.geometry&&this.feature.geometry.type)&&this.feature.geometry.type.toLowerCase(),t=[],r={t:null,categories:l["a"].getRaw()};if(e&&l["a"].getLength()>0)switch(e){case"point":r.t="custom points",t=Object(a["a"])(r);break;case"polygon":r.t="custom polygons",t=Object(a["a"])(r);break;default:r.t="custom lines",t=Object(a["a"])(r);break}this.categoriesList=t},handleClose:function(e){return e?this.$emit("close",!1):(this.form.name&&void 0!=this.form.name||(this.form.name=this.creationForm.name),"polygon"==this.feature.geometry.type.toLowerCase()&&0==this.form.height&&(this.form.height=1),"map"==this.type&&this.categorySelected&&(this.form=Object(s["a"])(Object(s["a"])({},this.form),this.categorySelected)),this.$emit("close",Object(s["a"])({},this.form)))}}},n=c,f=r("2877"),h=Object(f["a"])(n,i,o,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0a5550.0e0d0cc7.js.map
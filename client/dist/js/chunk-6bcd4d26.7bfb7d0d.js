(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bcd4d26"],{1269:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"el-dialog__wrapper z-index120"},[a("transition",{attrs:{tag:"div",mode:"in-out",name:"animated faster","enter-active-class":"fadeInDown","leave-active-class":"fadeOutUp"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"inner-wrapper el-dialog"},[a("div",{staticClass:"el-dialog__header"},[a("header",{staticClass:"w-fit-full p0 no-selectable"},[a("h1",{staticClass:"inline-block font-semibold fs-xlarge"},[e._v(" Viewing data: "+e._s(e.data.name)+" ")]),a("el-button",{staticClass:"el-dialog__headerbtn p0",attrs:{type:"text"},on:{click:function(t){return e.$emit("close")}}},[a("fa",{staticClass:"el-dialog__close el-icon el-icon-close",attrs:{icon:["fas","times"]}})],1)],1)]),a("div",{staticClass:"el-dialog__body"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,lg:12}},[a("el-table",{attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"Property"},scopedSlots:e._u([{key:"default",fn:function(t){return["rgDate"===t.row.property?a("p",{staticClass:"capitalize"},[e._v(" Register Date ")]):a("p",{staticClass:"capitalize"},[e._v(" "+e._s(t.row.property)+" ")])]}}])}),a("el-table-column",{attrs:{label:"Value"},scopedSlots:e._u([{key:"default",fn:function(t){return["phone"===t.row.property?a("a",{attrs:{href:"tel:"+t.row.value,target:"_blank"}},[e._v(" "+e._s(t.row.value)+" ")]):a("p",[e._v(" "+e._s(t.row.value)+" ")])]}}])})],1)],1),a("el-col",{attrs:{xs:24,lg:12}},[a("div",{staticClass:"w-fit-full",attrs:{id:"map"}})])],1)],1)])])],1)},i=[],n=(a("4de4"),a("caad"),a("d81d"),a("13d5"),a("b64b"),a("2532"),a("e192")),r=a.n(n),o=a("6ee6"),l=a.n(o),d=a("0fe6"),c=a("2c8b"),u={name:"ViewDataDialog",props:{isVisible:{type:Boolean,required:!0},data:{type:Object,required:!0},acceptedKeys:{type:Array,required:!0}},data:function(){return{map:null,draw:null,tableData:[]}},computed:{dark:function(){return this.$store.state.isDark},customDialogClass:function(){return this.dark?"custom-dialog dark":"custom-dialog light"}},watch:{isVisible:function(e){var t=this;e&&(this.handleDataVisualization(),setTimeout((function(){t.map.resize()}),220))}},mounted:function(){this.handleDataVisualization()},methods:{handleDataVisualization:function(){var e=this;if(this.data&&this.isVisible)return this.tableData=Object.keys(this.data).map((function(t){return e.acceptedKeys.includes(t)&&t.includes("Date")?{property:t,value:e.data[t]?Object(c["a"])(e.data[t]):"no data"}:!!e.acceptedKeys.includes(t)&&{property:t,value:e.data[t]?e.data[t]:"no data"}})).filter((function(e){return e})),this.map||(this.map=this.createMap()),this.addIssueDraw(),this.toggleTheme(this.dark)},createMap:function(){r.a.accessToken=d["a"].mapToken;var e=new r.a.Map({container:"map",zoom:d["a"].zoom,center:d["a"].center,style:d["a"].default}),t=new l.a({displayControlsDefault:!1,controls:!1}),a=new r.a.ScaleControl({maxWidth:80,unit:"metric"});this.draw=t;var s=this;return e.addControl(a,"bottom-left"),e.addControl(t,"bottom-left"),e.on("draw.selectionchange",(function(e){return s.draw.changeMode("simple_select",{})})),e},addIssueDraw:function(){var e=this.data.elemnt_id.geom;this.draw.set(e);var t=[],a=[];"Point"!==e.features[0].geometry.type?(a=[e.features[0].geometry.coordinates[0],e.features[e.features.length-1].geometry.coordinates[0]],t=a.reduce((function(e,t){return e.extend(t)}),new r.a.LngLatBounds(a[0],a[0]))):(a=[e.features[0].geometry.coordinates,e.features[e.features.length-1].geometry.coordinates],t=a.reduce((function(e,t){return e.extend(t)}),new r.a.LngLatBounds(a[0],a[0]))),this.map.fitBounds(t,{padding:90,animate:!0,zoom:3.68,speed:1.75,pan:{duration:25}})},toggleTheme:function(e){if(this.map){var t=e?d["a"].darkBasemap:d["a"].default;this.map.setStyle(t)}}}},p=u,f=(a("471f"),a("2877")),m=Object(f["a"])(p,s,i,!1,null,"2a91be51",null);t["default"]=m.exports},"471f":function(e,t,a){"use strict";var s=a("db35"),i=a.n(s);i.a},db35:function(e,t,a){}}]);
//# sourceMappingURL=chunk-6bcd4d26.7bfb7d0d.js.map
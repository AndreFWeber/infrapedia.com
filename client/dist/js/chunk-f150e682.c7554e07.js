(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f150e682"],{"1b83":function(e,t,n){"use strict";var i="6LftgdoUAAAAAFsue2KOClJ7QLBnV2GAI28DRbTt";t["a"]=i},c2db:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{visible:e.isVisible,width:"40%",top:"12vh","custom-class":e.customDialogClass,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isVisible=t}}},[n("header",{staticClass:"header p0 no-selectable",attrs:{slot:"title"},slot:"title"},[n("h1",{staticClass:"inline-block font-semibold fs-xlarge"},[n("span",{staticClass:"capitalize"},[e._v("Create Alert")])])]),n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",staticClass:"pr2 pl2"},[n("el-row",{attrs:{gutter:15}},[n("el-col",{attrs:{md:24,lg:12,xl:12}},[n("el-form-item",{attrs:{label:"Email",prop:"company"}},[n("el-input",{class:{dark:e.dark},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),n("el-col",{attrs:{md:24,lg:12,xl:12}},[n("el-form-item",{attrs:{label:"Phone number"}},[n("div",{staticClass:"el-input"},[n("i-phone-input",{staticClass:"m0 p0 el-input__inner",attrs:{inputClasses:"el-input__inner issues-dialog"},on:{onInput:e.validatePhoneNumber},model:{value:e.form.phone.num,callback:function(t){e.$set(e.form.phone,"num",t)},expression:"form.phone.num"}})],1),n("el-collapse-transition",[e.form.phone.num&&!e.form.phone.valid?n("el-alert",{staticClass:"mt2 h8",attrs:{type:"error","show-icon":"",title:"This phone number is not valid",closable:!1}}):e._e()],1)],1)],1),n("el-col",{attrs:{span:24}},[n("vue-recaptcha",{ref:"catpcha",attrs:{sitekey:e.siteKey,loadRecaptchaScript:!0},on:{verify:e.handleCatchaVerification,error:function(){return e.catchaVerified=!1},expired:function(){return e.catchaVerified=!1}}})],1)],1)],1),n("footer",{staticClass:"footer flex wrap justify-content-end pr0 pl6 mt4"},[n("div",[n("el-button",{staticClass:"mr2",attrs:{plain:"",type:"info"},on:{click:e.closeDialog}},[e._v("Cancel")]),n("el-button",{staticClass:"w28",attrs:{disabled:e.isFormUncomplete,type:"primary",plain:"",loading:e.isSendingData},on:{click:e.submitForm,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.submitForm(t)}}},[e._v(" Sign in ")])],1)])],1)},r=[],a=(n("4de4"),n("d81d"),n("b64b"),n("96cf"),n("1da1")),o=n("5530"),s=n("2f62"),c=n("9a1e"),l=n("3b79"),u=n("0316"),d=n("ceaf"),p=n("e096"),f=n("1b83"),h={components:{VueRecaptcha:p["a"]},data:function(){return{isSendingData:!1,catchaVerified:null,loading:!1,siteKey:f["a"],form:{email:"",phone:{num:"",valid:null}}}},computed:Object(o["a"])({},Object(s["c"])({focus:function(e){return e.map.focus},dark:function(e){return e.isDark}}),{isVisible:{get:function(){return this.$store.state.isAlertDialog},set:function(){return this.closeDialog()}},isFormUncomplete:function(){var e=this,t=Object.keys(this.form).filter((function(t){return!e.form[t]}));return!(!t.length&&this.catchaVerified)},customDialogClass:function(){return this.dark?"alerts-dialog dark":"alerts-dialog light"}}),watch:{isVisible:function(e){if(!e)return this.$refs.catpcha.reset();this.setUserData()}},methods:{handleCatchaVerification:function(e){e&&(this.catchaVerified=!0)},setUserData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$auth.user){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.t0=c["b"],t.next=6,e.$auth.getUserID();case 6:return t.t1=t.sent,t.next=9,(0,t.t0)(t.t1);case 9:n=t.sent,n&&(i=n.user_metadata,e.form.email=i&&i.email?i.email:n.email,e.form.phone=i&&i.phonenumber?i.phonenumber:{num:"",valid:null}),e.loading=!1;case 12:case"end":return t.stop()}}),t)})))()},validatePhoneNumber:function(e){var t=e.number,n=e.isValid;try{this.form.phone={num:t,valid:n}}catch(i){}},submitForm:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isSendingData=!0,t.t0=l["c"],t.t1=o["a"],t.next=5,e.$auth.getUserID();case 5:return t.t2=t.sent,t.t3=e.focus.id,t.t4=Object(d["a"])(e.focus.type),t.t5={user_id:t.t2,elemnt:t.t3,t:t.t4},t.t6=e.form,t.t7=(0,t.t1)(t.t5,t.t6),t.next=13,(0,t.t0)(t.t7);case 13:n=t.sent,n&&n.t&&"error"!==n.t&&e.closeDialog(),e.isSendingData=!1;case 16:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.$store.commit("".concat(u["i"]),!1),this.form={email:"",phone:{num:"",valid:null}}}}},m=h,g=n("2877"),b=Object(g["a"])(m,i,r,!1,null,null,null);t["default"]=b.exports},e096:function(e,t,n){"use strict";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}var r=function(){var e=!1,t=[],n=function(n){if(!e){e=!0;for(var i=0,r=t.length;i<r;i++)t[i](n)}},i=function(n){e?n():t.push(n)},r={resolved:function(){return e},resolve:n,promise:{then:i}};return r},a=Object.prototype.hasOwnProperty;function o(){var e=r();return{notify:function(){e.resolve()},wait:function(){return e.promise},render:function(e,t,n){this.wait().then((function(){n(window.grecaptcha.render(e,t))}))},reset:function(e){"undefined"!==typeof e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(e)})))},execute:function(e){"undefined"!==typeof e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(e)})))},checkRecaptchaLoad:function(){a.call(window,"grecaptcha")&&a.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!e.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var s=o();"undefined"!==typeof window&&(window.vueRecaptchaApiLoaded=s.notify);var c={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!1},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},beforeMount:function(){if(this.loadRecaptchaScript&&!document.getElementById(this.recaptchaScriptId)){var e=document.createElement("script");e.id=this.recaptchaScriptId,e.src="https://"+this.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+this.language,e.async=!0,e.defer=!0,document.head.appendChild(e)}},mounted:function(){var e=this;s.checkRecaptchaLoad();var t=i({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired,"error-callback":this.emitError}),n=this.$slots["default"]?this.$el.children[0]:this.$el;s.render(n,t,(function(t){e.$widgetId=t,e.$emit("render",t)}))},methods:{reset:function(){s.reset(this.$widgetId)},execute:function(){s.execute(this.$widgetId)},emitVerify:function(e){this.$emit("verify",e)},emitExpired:function(){this.$emit("expired")},emitError:function(){this.$emit("error")}},render:function(e){return e("div",{},this.$slots["default"])}};t["a"]=c}}]);
//# sourceMappingURL=chunk-f150e682.c7554e07.js.map